# 六位数字加密程序文档

## 程序概述

`encrypt_code.c` 是一个C语言编写的六位数字加密程序，用于对用户输入的6位数字进行加密处理。该程序实现了一个自定义的加密算法，能够将输入的6位数字转换为加密后的6位数字。

## 主要功能

1. **数字输入验证**：确保用户输入的是有效的6位数字
2. **自定义加密算法**：使用多步骤变换对数字进行加密
3. **交互式界面**：提供友好的用户交互界面
4. **程序退出机制**：支持输入"exit"命令退出程序

## 加密算法详解

### 密钥定义
```c
const uint8_t key[6] = {7, 2, 9, 4, 6, 3};
```
程序使用固定的6位密钥：`[7, 2, 9, 4, 6, 3]`

### 加密步骤

加密过程分为四个主要步骤：

#### 步骤1：位置偏移变换
```c
for(i = 0; i < 6; i++) {
    uint8_t digit = input_code[i] - '0';
    temp[i] = (digit + (i + 1)) % 10;
}
```
- 将每个数字字符转换为数值
- 每个位置的数字加上其位置索引（从1开始）
- 对结果取模10，确保结果在0-9范围内

#### 步骤2：数组反转
```c
for(i = 0; i < 6; i++) {
    reversed[i] = temp[5 - i];
}
```
- 将步骤1的结果数组完全反转

#### 步骤3：密钥异或运算
```c
for(i = 0; i < 6; i++) {
    encrypted[i] = (reversed[i] ^ key[i]) % 10;
}
```
- 将反转后的数组与密钥进行异或运算
- 对结果取模10，确保最终数字在0-9范围内

#### 步骤4：数字转换
```c
for(i = 0; i < 6; i++) {
    output_code[i] = encrypted[i] + '0';
}
```
- 将数值转换回字符格式
- 添加字符串结束符

## 程序流程

1. **程序启动**：显示欢迎信息
2. **输入提示**：要求用户输入6位数字或"exit"
3. **输入验证**：
   - 检查输入长度是否为6位
   - 验证所有字符是否为数字
   - 处理"exit"退出命令
4. **加密处理**：调用`encrypt_code`函数进行加密
5. **结果输出**：显示加密后的6位数字
6. **循环继续**：返回步骤2，直到用户选择退出

## 使用示例

### 输入示例
```
Please enter a 6-digit number (or type 'exit' to quit): 123456
Encrypted 6-digit number: 987654

Please enter a 6-digit number (or type 'exit' to quit): 000000
Encrypted 6-digit number: 123456

Please enter a 6-digit number (or type 'exit' to quit): exit
Program exited.
```

## 技术特点

### 安全性
- 使用多步骤变换增加破解难度
- 结合位置偏移、数组反转和异或运算
- 固定密钥提供可重现的加密结果

### 实用性
- 输入验证确保程序稳定性
- 友好的用户界面
- 支持程序退出功能

### 局限性
- 使用固定密钥，安全性有限
- 仅支持6位数字加密
- 加密算法相对简单，不适合高安全性需求

## 编译和运行

### 编译命令
```bash
gcc -o encrypt_code encrypt_code.c
```

### 运行命令
```bash
./encrypt_code
```

## 代码结构

- **全局变量**：定义加密密钥
- **encrypt_code函数**：实现核心加密算法
- **main函数**：处理用户交互和程序流程控制

## 注意事项

1. 程序仅接受6位数字输入
2. 输入验证严格，非数字字符会被拒绝
3. 加密结果是可重现的，相同输入产生相同输出
4. 程序使用固定密钥，如需更高安全性建议修改密钥或算法

## 扩展建议

1. **动态密钥**：支持用户自定义密钥
2. **算法增强**：增加更多加密步骤
3. **解密功能**：添加对应的解密算法
4. **文件支持**：支持批量文件加密
5. **密钥管理**：实现更安全的密钥存储机制 